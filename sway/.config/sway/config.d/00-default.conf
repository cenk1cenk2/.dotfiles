### Key bindings

# Drag floating windows by holding down $mod and left mouse button.
# Resize them with right mouse button + $mod.
# Despite the name, also works for non-floating windows.
# Change normal to inverse to use left mouse button for resizing and right
# mouse button for dragging.
floating_modifier $mod normal

## swap workspaces around
$bindsym $mod+Control+Shift+1 exec $HOME/.config/sway/scripts/swap-workspace.sh 1
$bindsym $mod+Control+Shift+2 exec $HOME/.config/sway/scripts/swap-workspace.sh 2
$bindsym $mod+Control+Shift+3 exec $HOME/.config/sway/scripts/swap-workspace.sh 3
$bindsym $mod+Control+Shift+4 exec $HOME/.config/sway/scripts/swap-workspace.sh 4
$bindsym $mod+Control+Shift+5 exec $HOME/.config/sway/scripts/swap-workspace.sh 5
$bindsym $mod+Control+Shift+6 exec $HOME/.config/sway/scripts/swap-workspace.sh 6
$bindsym $mod+Control+Shift+7 exec $HOME/.config/sway/scripts/swap-workspace.sh 7
$bindsym $mod+Control+Shift+8 exec $HOME/.config/sway/scripts/swap-workspace.sh 8
$bindsym $mod+Control+Shift+9 exec $HOME/.config/sway/scripts/swap-workspace.sh 9
$bindsym $mod+Control+Shift+0 exec $HOME/.config/sway/scripts/swap-workspace.sh 0
$bindsym $mod+Control+Shift+h exec $HOME/.config/sway/scripts/swap-workspace.sh left
$bindsym $mod+Control+Shift+l exec $HOME/.config/sway/scripts/swap-workspace.sh right

set $map-to-active swaymsg input type:tablet_tool map_to_output `swaymsg -t get_outputs | jq -r '.[] | select(.focused == true) | .name'`

$bindsym $mod+m exec $map-to-active

set $rofi_type "launchers/type-4"
set $rofi_style "style-4"

set $menu rofi -modi "combi,run,drun" run -show drun -terminal $term -ssh-command "{terminal} {ssh-client} {host} [-p {port}]" -run-shell-command "{terminal} {cmd}" -theme $rofi_type/$rofi_style.rasi

$unbindsym $mod+space
$bindsym $mod+Space exec $menu
$unbindsym $mod+Return
$bindsym $mod+Return exec $term

# shutdown command
$unbindsym $mod+Shift+e
$bindsym $mod+Shift+e exec $shutdown

#
# Layout stuff:
#
## Setting // Split windows horizontally ##
$unbindsym $mod+b
$bindsym $mod+b splith
## Setting // Split windows vertically ##
$unbindsym $mod+v
$bindsym $mod+v splitv

## Action // Toggle floating ##
# $unbindsym $mod+Shift+space

$unbindsym $mod+a
# $bindsym $mod+a floating toggle

## Navigation // Swap focus between the tiling area and the floating area ##
$bindsym $mod+a focus mode_toggle

## Navigation // Swap focus to the parent window ##
$bindsym $mod+t focus parent

## Launch // Help ##
$unbindsym $mod+question

default_border pixel 2
hide_edge_borders smart

smart_gaps on

$bindsym $mod+Control+Right workspace next_on_output
$bindsym $mod+Control+Left workspace prev_on_output

$bindsym $mod+c exec --no-startup-id $HOME/.config/sway/scripts/new-workspace.sh
$unbindsym $mod+Shift+m
$unbindsym $mod+Shift+n
$bindsym $mod+Shift+n exec /usr/share/sway/scripts/first-empty-workspace.py --move --switch
$bindsym $mod+Shift+m exec $pulseaudio

$bindsym $mod+Control+Shift+Left move workspace to output left
$bindsym $mod+Control+Shift+Right move workspace to output right
$bindsym $mod+Control+Shift+Up move workspace to output up
$bindsym $mod+Control+Shift+Down move workspace to output down
$bindsym $mod+Alt+Right move to workspace next
$bindsym $mod+Alt+Left move to workspace prev

$bindsym Control+Shift+F1 exec $HOME/.config/sway/scripts/monitor-profiles.sh solo
$bindsym Control+Shift+F2 exec $HOME/.config/sway/scripts/monitor-profiles.sh dual
$bindsym Control+Shift+F3 exec $HOME/.config/sway/scripts/monitor-profiles.sh top
$bindsym Control+Shift+F5 exec $HOME/.config/sway/scripts/monitor-profiles.sh salon

# bindsym Alt+Tab workspace back_and_forth

gaps outer -8
gaps inner 2

$bindsym $mod+Alt+Space exec env RUST_BACKTRACE=1 \
    swayr switch-window >> /tmp/swayr.log 2>&1

$bindsym $mod+Control+Space exec env RUST_BACKTRACE=1 \
    swayr switch-workspace >> /tmp/swayr.log 2>&1

$unbindsym Alt+Tab
$bindsym Alt+Tab exec env RUST_BACKTRACE=1 \
    swayr switch-to-urgent-or-lru-window >> /tmp/swayr.log 2>&1

$unbindsym $mod+Shift+d
$bindsym $mod+Shift+d exec env RUST_BACKTRACE=1 \
    swayr move-focused-to >> /tmp/swayr.log 2>&1

# variable overwrites
set $image_upload $HOME/.config/sway/scripts/upload-image.sh

$unbindsym $mod+Shift+s
$bindsym $mod+Shift+s exec grim -g "$(slurp)" - | swappy -f -
