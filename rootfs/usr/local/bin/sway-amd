#!/usr/bin/env sh

# Wayland session configuration
export XDG_SESSION_TYPE=wayland
export XDG_CURRENT_DESKTOP=sway

# libseat backend
export LIBSEAT_BACKEND=logind

# WLR configuration
export WLR_RENDERER_ALLOW_SOFTWARE=1
export WLR_XWAYLAND=/usr/local/bin/Xwayland

# Qt configuration
export QT_QPA_PLATFORM=wayland
export QT_QPA_PLATFORMTHEME=gtk3
export QT_WAYLAND_DISABLE_WINDOWDECORATION=1

# GTK configuration
export GTK_USE_PORTAL=1
export GDK_BACKEND=wayland
export GDK_DEBUG=portals

# Gaming optimizations
export DXVK_ASYNC=1
export MANGOHUD=1

# Docker configuration
export DOCKER_BUILDKIT=1

# Firefox Wayland support
export MOZ_ENABLE_WAYLAND=1
export MOZ_DBUS_REMOTE=1

export PATH="$HOME/.local/share/mise/shims:$HOME/.local/bin:$PATH"

exec sway 2>&1 | tee /tmp/sway.log
